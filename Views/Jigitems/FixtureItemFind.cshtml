@model IEnumerable<Fixture02.Models.Jigitem>

@using PagedList;
@using PagedList.Mvc;

@{
    Layout = "~/Views/Shared/FixtureMaster.cshtml";
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Index</title>
</head>
<body>
    <h2>采购入库查询</h2>
    <div class="container-fluid">
        <div class="row-fluid">
            <p>
                @using (Html.BeginForm("FixtureItemFind", "Jigitems", FormMethod.Get))
                {
                <p>夹具代码:@Html.TextBox("code")</p>
                <p>所在位置:@Html.TextBox("location")</p>
                <p>夹具状态:@Html.TextBox("state")</p>

                <input type="submit" value="查询" />
            }

            </div>
        </div>

        <table class="table">
            <tr>
                @*<th>
                    @Html.DisplayNameFor(model => model.ItemID)
                </th>*@
                <th>
                    @Html.DisplayNameFor(model => model.Code)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Jig.Name)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.BillNo)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.RegDate)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.UsedCount)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Location)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.State)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.AddDate)
                </th>
            </tr>

            @foreach (var item in Model)
            {
                ViewBag.workcellId = Session["workcellId"];
                if (item.WorkcellID == ViewBag.workcellId)
                {
                <tr>
                    @*<td>
                        @Html.DisplayFor(modelItem => item.ItemID)
                    </td>*@
                    <td>
                        @Html.DisplayFor(modelItem => item.Code)-@Html.DisplayFor(modelItem => item.SeqID)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Jig.Name)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.BillNo)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.RegDate)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.UsedCount)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Location)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.State)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.AddDate)
                    </td>
                    <td>
                        @Html.ActionLink("详情", "Details", new { id = item.ItemID })
                    </td>
                </tr>
                }
            }

        </table>
        @Html.PagedListPager((IPagedList)Model, x => Url.Action("FixtureItemFind", new { page = x }))
    </body>
</html>
