@model IEnumerable<Fixture02.Models.Check>
@using PagedList
@using PagedList.Mvc
@{
    ViewBag.Title = "点检查询";
    Layout = "~/Views/Shared/FixtureMaster.cshtml";
}

    <h2>点检查询</h2>


<div>
    @using (Html.BeginForm("Index", "Checks", FormMethod.Get))
    {
        <p>夹具代码:@Html.TextBox("code", ViewBag.code as string)</p>
        <p>夹具名称:@Html.TextBox("name", ViewBag.name as string)</p>
        <p>点检类型:@Html.TextBox("checktype", ViewBag.checktype as string)</p>
        <p>点检状态:@Html.TextBox("checkstate", ViewBag.checkstate as string)</p>
        <input type="submit" value="查询" />
    }
</div>


<table class="table">
    <tr>
        @*<th>
                @Html.DisplayNameFor(model => model.ItemID)
            </th>*@
        <th>
            @Html.DisplayNameFor(model => model.Code)
        </th>
        @*<th>
            @Html.DisplayNameFor(model => model.SeqID)
        </th>*@
        <th>
            @Html.DisplayNameFor(model => model.Name)
        </th>
        @*<th>
                @Html.DisplayNameFor(model => model.FamilyID)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.FamilyName)
            </th>*@
        <th>
            @Html.DisplayNameFor(model => model.Model)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.PartNo)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.AddDate)
        </th>
        @*<th>
            @Html.DisplayNameFor(model => model.AddUserID)
        </th>*@
        <th>
            @Html.DisplayNameFor(model => model.AddUserName)
        </th>
        @*<th>
                @Html.DisplayNameFor(model => model.CheckUserName)
            </th>*@
        <th>
            @Html.DisplayNameFor(model => model.CheckType)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.CheckState)
        </th>
        @*<th>
                @Html.DisplayNameFor(model => model.CheckResult1)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.CheckResult2)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.CheckResult3)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.CheckResult4)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.CheckResult5)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.CheckResult6)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.CheckResult7)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.CheckResult8)
            </th>*@
        @*<th>
                @Html.DisplayNameFor(model => model.Problem)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.WorkcellID)
            </th>*@
        <th></th>
    </tr>

    @foreach (var item in Model)
    {
        ViewBag.workcellId = Session["workcellId"];
        if (item.WorkcellID == ViewBag.workcellId)
        {
        <tr>
            @*<td>
                    @Html.DisplayFor(modelItem => item.ItemID)
                </td>*@
            <td>
                @Html.DisplayFor(modelItem => item.Code)-@Html.DisplayFor(modelItem => item.SeqID)
            </td>
            @*<td>
                @Html.DisplayFor(modelItem => item.SeqID)
            </td>*@
            <td>
                @Html.DisplayFor(modelItem => item.Name)
            </td>
            @*<td>
                    @Html.DisplayFor(modelItem => item.FamilyID)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.FamilyName)
                </td>*@
            <td>
                @Html.DisplayFor(modelItem => item.Model)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.PartNo)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.AddDate)
            </td>
            @*<td>
                @Html.DisplayFor(modelItem => item.AddUserID)
            </td>*@
            <td>
                @Html.DisplayFor(modelItem => item.AddUserName)
            </td>
            @*<td>
                    @Html.DisplayFor(modelItem => item.CheckUserName)
                </td>*@
            <td>
                @Html.DisplayFor(modelItem => item.CheckType)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.CheckState)
            </td>
            @*<td>
                    @Html.DisplayFor(modelItem => item.CheckResult1)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.CheckResult2)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.CheckResult3)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.CheckResult4)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.CheckResult5)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.CheckResult6)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.CheckResult7)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.CheckResult8)
                </td>*@
            @*<td>
                    @Html.DisplayFor(modelItem => item.Problem)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.WorkcellID)
                </td>*@
            <td>
                @Html.ActionLink("详情", "Details", new { id = item.CheckID }) 
            </td>
        </tr>
        }
    }

</table>
@Html.PagedListPager((IPagedList)Model, page => Url.Action("Index", new { page, code = ViewBag.code, name = ViewBag.name, checktype = ViewBag.checktype, checkstate = ViewBag.checkstate }))
